<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_Side_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-toc-path="Serial Communication" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Background Communication</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/Styles.css" rel="stylesheet" type="text/css" />
        <link href="../Resources/TableStyles/Alternate-Row-Color.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../Home.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <div role="main" id="mc-main-content">
                                        <h1>Background Communication</h1>
                                        <p>The basic element of an application that uses the SerialCom library is the SerialLineControl function block. This block is used to transmit data from the PLC program to the physical buffer of the COM port.</p>
                                        <p>Thanks to this approach, the data transmission and reception blocks are the same, regardless of the type of COM port being used physically. The type of port is determined by the input Mode (of the ComSerialLineMode_t type) of the block.</p>
                                        <p style="text-align: center;">
                                            <img src="../Resources/Images/serialLineControlFB.png" title="SerialLineControl function block" alt="SerialLineControl function block" style="border-left-style: solid;border-left-width: 0px;border-left-color: ;border-right-style: solid;border-right-width: 0px;border-right-color: ;border-top-style: solid;border-top-width: 0px;border-top-color: ;border-bottom-style: solid;border-bottom-width: 0px;border-bottom-color: ;" data-mc-target-name="SerialLineControl function block" />
                                        </p>
                                        <p class="image-desc" data-mc-xref-target-name="SerialLineControl_function_block"><a name="SerialLineControl_function_block" data-mc-generated-bookmark="ListOf"></a>SerialLineControl function block</p>
                                        <table style="border-left-style: solid;border-left-width: 1px;border-left-color: ;border-right-style: solid;border-right-width: 1px;border-right-color: ;border-top-style: solid;border-top-width: 1px;border-top-color: ;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: ;mc-table-style: url('../Resources/TableStyles/Alternate-Row-Color.css');margin-left: 0;margin-right: auto;caption-side: top;" class="TableStyle-Alternate-Row-Color" cellspacing="21">
                                            <caption style="text-align: left;">
                                                <label data-mc-xref-target-name="SerialLineControl_function_block_inputs"><a name="SerialLineControl_function_block_inputs" data-mc-generated-bookmark="ListOf"></a>SerialLineControl function block inputs</label>
                                            </caption>
                                            <col class="TableStyle-Alternate-Row-Color-Column-Column1" />
                                            <col class="TableStyle-Alternate-Row-Color-Column-Column1" />
                                            <col class="TableStyle-Alternate-Row-Color-Column-Column1" />
                                            <col class="TableStyle-Alternate-Row-Color-Column-Column1" />
                                            <col class="TableStyle-Alternate-Row-Color-Column-Column1" />
                                            <thead>
                                                <tr class="TableStyle-Alternate-Row-Color-Head-Header1">
                                                    <th class="TableStyle-Alternate-Row-Color-HeadE-Column1-Header1">Input name</th>
                                                    <th class="TableStyle-Alternate-Row-Color-HeadE-Column1-Header1">Input type</th>
                                                    <th class="TableStyle-Alternate-Row-Color-HeadE-Column1-Header1">Default value</th>
                                                    <th class="TableStyle-Alternate-Row-Color-HeadE-Column1-Header1">Range</th>
                                                    <th class="TableStyle-Alternate-Row-Color-HeadD-Column1-Header1">Description</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="TableStyle-Alternate-Row-Color-Body-Body1">
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">Mode</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">ComSerialLineMode_t</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">0</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">0..6</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyD-Column1-Body1">Indicates the type of serial

port used.</td>
                                                </tr>
                                                <tr class="TableStyle-Alternate-Row-Color-Body-Body2">
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body2">pComIn</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body2">Pointer TO BYTE</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body2">0</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body2">0..2147483647</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyD-Column1-Body2">Pointer indicating the input
from the buffer of the device
used for communication.</td>
                                                </tr>
                                                <tr class="TableStyle-Alternate-Row-Color-Body-Body1">
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">pComOut</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">Pointer to BYTE</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">0</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">0..2147483647</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyD-Column1-Body1">Pointer indicating the output
data sent to the buffer of the
device used for
communication.</td>
                                                </tr>
                                                <tr class="TableStyle-Alternate-Row-Color-Body-Body2">
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body2">SizeComIn</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body2">UINT</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body2">0</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body2">0..65535</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyD-Column1-Body2">Buffer size of the device used
for communication.</td>
                                                </tr>
                                                <tr class="TableStyle-Alternate-Row-Color-Body-Body1">
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">TxBuffer</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">ComBuffer</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">n/a</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyE-Column1-Body1">n/a</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyD-Column1-Body1">Sends data buffer.</td>
                                                </tr>
                                                <tr class="TableStyle-Alternate-Row-Color-Body-Body2">
                                                    <td class="TableStyle-Alternate-Row-Color-BodyB-Column1-Body2">RxBuffer</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyB-Column1-Body2">ComBuffer</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyB-Column1-Body2">n/a</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyB-Column1-Body2">n/a</td>
                                                    <td class="TableStyle-Alternate-Row-Color-BodyA-Column1-Body2">Receivse data buffer.</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <p>&#160;</p>
                                        <div class="codeSnippet"><a class="codeSnippetCopyButton" role="button" href="javascript:void(0);">Copy</a>
                                            <div class="codeSnippetCaption">
                                                <p>ComSerialLineMode_t type description</p>
                                            </div>
                                            <div class="codeSnippetBody" data-mc-continue="False" data-mc-line-number-start="1" data-mc-use-line-numbers="False"><pre><code>TYPE ComSerialLineMode_t :<br />(<br />&#160;&#160;&#160;&#160;SERIALLINEMODE_DEFAULT,<br />&#160;&#160;&#160;&#160;SERIALLINEMODE_KL6_3B_ALTERNATIVE,<br />&#160;&#160;&#160;&#160;SERIALLINEMODE_KL6_5B_STANDARD,<br />&#160;&#160;&#160;&#160;SERIALLINEMODE_KL6_22B_STANDARD,<br />&#160;&#160;&#160;&#160;SERIALLINEMODE_PC_COM_PORT,<br />&#160;&#160;&#160;&#160;SERIALLINEMODE_EL6_22B,<br />&#160;&#160;&#160;&#160;SERIALLINEMODE_IE6_11B<br />) ;<br />END_TYPE</code></pre>
                                            </div>
                                        </div>
                                        <p>Commonly used values are:</p>
                                        <ul>
                                            <li>
                                                <p>SERIALLINEMODE_KL6_22B_STANDARD (for terminals with 22-byte buffer, e.g., EL6022).</p>
                                            </li>
                                            <li>
                                                <p>SERIALLINEMODE_PC_COM_PORT (for embedded COM port N031).</p>
                                            </li>
                                        </ul>
                                        <p>Then, depending on the selected type of port, declare appropriate variables in the application.</p>
                                        <p>For EL6022 terminal:</p>
                                        <ul>
                                            <li>
                                                <p>COMInData AT %I ∗ : EL6inData22B ;</p>
                                            </li>
                                            <li>
                                                <p>COMOutData AT %Q∗ : EL6outData22B ;</p>
                                            </li>
                                        </ul>
                                        <p>For COM port N031:</p>
                                        <ul>
                                            <li>
                                                <p>COMInData AT %I ∗ : PcComInData ;</p>
                                            </li>
                                            <li>
                                                <p>COMOutData AT %Q∗ : PcComOutData ;</p>
                                            </li>
                                        </ul>
                                        <p>Pass these variables to the block at the inputs: pComIn, pComOut, and SizeComIn. Use the operators ADR (returns the address of the variable in memory) and SIZEOF (returns the size of the variable in bytes), respectively.</p>
                                        <p style="text-align: center;">
                                            <img src="../Resources/Images/buffer.png" title="Example of variables declaration" alt="Example of variables declaration" style="border-left-style: solid;border-left-width: 1px;border-left-color: #696969;border-right-style: solid;border-right-width: 1px;border-right-color: #696969;border-top-style: solid;border-top-width: 1px;border-top-color: #696969;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #696969;" data-mc-target-name="Example of variables declaration" />
                                        </p>
                                        <p class="image-desc" data-mc-xref-target-name="Example_of_variables_declaration"><a name="Example_of_variables_declaration" data-mc-generated-bookmark="ListOf"></a>Example of variables declaration</p>
                                        <p>For the inputs TxBuffer and RxBuffer, which are data buffers for specific communication functions (such as send data, receive data), attach the variables that are accessible from anywhere in the application. Global variables are suitable for this purpose. Therefore, add a new list of global variables and declare buffers:</p>
                                        <p>RxBuffer : ComBuffer;</p>
                                        <p>TxBuffer : ComBuffer;</p>
                                        <p style="text-align: center;">
                                            <img src="../Resources/Images/global.png" title="Example of buffers declaration" alt="Example of buffers declaration" style="border-left-style: solid;border-left-width: 1px;border-left-color: #696969;border-right-style: solid;border-right-width: 1px;border-right-color: #696969;border-top-style: solid;border-top-width: 1px;border-top-color: #696969;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #696969;" data-mc-target-name="Example of buffers declaration" />
                                        </p>
                                        <p class="image-desc" data-mc-xref-target-name="Example_of_buffers_declaration"><a name="Example_of_buffers_declaration" data-mc-generated-bookmark="ListOf"></a> Example of buffers declaration</p>
                                        <p>Connect these buffers to the previously mentioned inputs of the SerialLineControl block.</p>
                                        <p style="text-align: center;">
                                            <img src="../Resources/Images/inout.png" title="Connecting buffers to the function block" alt="Connecting buffers to the function block" style="border-left-style: solid;border-left-width: 0px;border-left-color: ;border-right-style: solid;border-right-width: 0px;border-right-color: ;border-top-style: solid;border-top-width: 0px;border-top-color: ;border-bottom-style: solid;border-bottom-width: 0px;border-bottom-color: ;" data-mc-target-name="Connecting buffers to the function block" />
                                        </p>
                                        <p class="image-desc" data-mc-xref-target-name="Connecting_buffers_to_the_function_block"><a name="Connecting_buffers_to_the_function_block" data-mc-generated-bookmark="ListOf"></a>Connecting buffers to the function block</p>
                                        <p>&#160;</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>